[pytest]
minversion = 7.0
addopts = -ra --strict-markers --strict-config --tb=short -v
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
markers =
    unit: Unit tests
    integration: Integration tests
    api: Backend API tests
    frontend: Frontend UI tests
    e2e: End-to-end tests
    performance: Performance tests
    slow: Slow running tests
    requires_services: Tests that require external services
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:chromadb.*
    ignore::UserWarning:sentence_transformers.*
    ignore::pytest.PytestUnknownMarkWarning
# Timeout configuration (requires pytest-timeout plugin)
# timeout = 300
# timeout_method = thread

[tool:coverage:run]
source = KestrelAI
omit = 
    */tests/*
    */test_*
    */__pycache__/*
    */migrations/*

[tool:coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod